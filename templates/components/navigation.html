<!-- Voice of Customer Platform - Main Navigation -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
    <div class="container-fluid">
        <!-- Brand -->
        <a class="navbar-brand fw-bold text-primary" href="/" style="font-size: 1.25rem;">
            <i class="fas fa-home me-2"></i>
            منصة صوت العميل
        </a>
        
        <!-- Mobile Toggle -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavigation" 
                aria-controls="mainNavigation" aria-expanded="false" aria-label="تبديل القائمة">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <!-- Main Navigation -->
        <div class="collapse navbar-collapse" id="mainNavigation">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <!-- 1. Surveys -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="surveysDropdown" role="button" 
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-poll me-1"></i>الاستطلاعات
                    </a>
                    <ul class="dropdown-menu">
                        <li><h6 class="dropdown-header">إنشاء وإدارة</h6></li>
                        <li><a class="dropdown-item" href="/surveys/create">
                            <i class="fas fa-plus me-2"></i>إنشاء استطلاع جديد
                        </a></li>
                        <li><a class="dropdown-item" href="/surveys">
                            <i class="fas fa-list me-2"></i>إدارة الاستطلاعات
                        </a></li>
                        <li><a class="dropdown-item" href="/surveys/responses">
                            <i class="fas fa-chart-bar me-2"></i>الردود والنتائج
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><h6 class="dropdown-header">التوزيع متعدد القنوات</h6></li>
                        <li><a class="dropdown-item" href="/surveys/distribution">
                            <i class="fas fa-paper-plane me-2 text-success"></i>نظام التوزيع الجديد ⭐
                        </a></li>
                    </ul>
                </li>
                
                <!-- 2. Dashboards -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="dashboardsDropdown" role="button" 
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-tachometer-alt me-1"></i>لوحات القيادة
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="/dashboard">
                            <i class="fas fa-tachometer-alt me-2"></i>لوحة القيادة الرئيسية
                        </a></li>
                    </ul>
                </li>
                
                <!-- 3. Integrations -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="integrationsDropdown" role="button" 
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-plug me-1"></i>التكاملات
                    </a>
                    <ul class="dropdown-menu">
                        <li><h6 class="dropdown-header">تدفق البيانات</h6></li>
                        <li><a class="dropdown-item" href="/integrations">
                            <i class="fas fa-brain me-2 text-purple"></i>إدارة التكامل
                        </a></li>
                    </ul>
                </li>
                
                <!-- 4. Analytics -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="analyticsDropdown" role="button" 
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-brain me-1"></i>التحليلات
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="/analytics/insights">
                            <i class="fas fa-lightbulb me-2"></i>الرؤى والتحليلات
                        </a></li>
                    </ul>
                </li>
                
                <!-- 5. Settings -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="settingsDropdown" role="button" 
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-cog me-1"></i>الإعدادات
                    </a>
                    <ul class="dropdown-menu">
                        <li><h6 class="dropdown-header">إدارة الحساب</h6></li>
                        <li><a class="dropdown-item" href="/settings">
                            <i class="fas fa-sliders-h me-2"></i>إعدادات النظام
                        </a></li>
                        <li><a class="dropdown-item" href="/settings/users">
                            <i class="fas fa-users me-2"></i>إدارة المستخدمين
                        </a></li>
                        <li><a class="dropdown-item" href="/settings/admin">
                            <i class="fas fa-server me-2"></i>إدارة المنصة
                        </a></li>
                    </ul>
                </li>
            </ul>
            
            <!-- User Actions -->
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" 
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-user-circle me-1"></i>المستخدم
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="/login">
                            <i class="fas fa-sign-in-alt me-2"></i>تسجيل الدخول
                        </a></li>
                        <li><a class="dropdown-item" href="/register">
                            <i class="fas fa-user-plus me-2"></i>إنشاء حساب
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="/profile">
                            <i class="fas fa-user me-2"></i>الملف الشخصي
                        </a></li>
                        <li><a class="dropdown-item" href="/logout">
                            <i class="fas fa-sign-out-alt me-2"></i>تسجيل الخروج
                        </a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Custom CSS for Navigation -->
<style>
.navbar {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(10px);  
    border-bottom: 1px solid #e9ecef;
}

.navbar-brand {
    font-weight: 700;
    color: var(--primary-500, #2E8B57) !important;
    transition: opacity 0.3s ease;
}

.navbar-brand:hover {
    opacity: 0.8;
}

.navbar-nav .nav-link {
    font-weight: 500;
    padding: 0.75rem 1rem;
    color: var(--text-primary, #2c3e50) !important;
    transition: all 0.3s ease;
    border-radius: 0.375rem;
    margin: 0 0.25rem;
}

.navbar-nav .nav-link:hover {
    background-color: var(--primary-50, #f0f9f4);
    color: var(--primary-600, #25754a) !important;
}

.dropdown-menu {
    border: none;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    border-radius: 0.5rem;
    padding: 0.5rem 0;
    margin-top: 0.5rem;
}

.dropdown-item {
    padding: 0.5rem 1rem;
    font-weight: 400;
    transition: all 0.2s ease;
}

.dropdown-item:hover {
    background-color: var(--primary-50, #f0f9f4);
    color: var(--primary-600, #25754a);
}

.dropdown-header {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--text-secondary, #6c757d);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 0.5rem 1rem 0.25rem;
}

.dropdown-divider {
    margin: 0.5rem 0;
    border-top: 1px solid var(--border-light, #e9ecef);
}

.text-purple {
    color: #6f42c1 !important;
}

/* RTL Support */
[dir="rtl"] .navbar-nav {
    flex-direction: row-reverse;
}

[dir="rtl"] .dropdown-menu {
    right: 0;
    left: auto;
}

/* Mobile Responsive */
@media (max-width: 991.98px) {
    .navbar-nav .nav-link {
        margin: 0;
        border-radius: 0;
    }
    
    .dropdown-menu {
        position: static !important;
        transform: none !important;
        box-shadow: none;
        border: 1px solid var(--border-light, #e9ecef);
        margin-top: 0;
    }
}
</style>